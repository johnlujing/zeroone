function up_loop(){function setActive(num){lis[num].setAttribute("class","active"),cmts[num].setAttribute("class","active")}function cleanClass(){for(var i=lis.length-1;i>=0;i--)lis[i].removeAttribute("class");for(var i=cmts.length-1;i>=0;i--)cmts[i].removeAttribute("class")}function loopSet(){4>num?(num+=1,cleanClass(),setActive(num)):(num=0,cleanClass(),setActive(num))}function addEvent(obj,type,fn){window.attachEvent?(obj["e"+type+fn]=fn,obj[type+fn]=function(){obj["e"+type+fn](window.event)},obj.attachEvent("on"+type,obj[type+fn])):obj.addEventListener(type,fn,!1)}var _intervalId,loop=document.getElementById("js_loop"),lis=loop.getElementsByTagName("li"),cmtContainer=document.getElementById("js_comment_content"),cmts=cmtContainer.getElementsByTagName("div"),num=2;setActive(num),_intervalId=setInterval(loopSet,5e3);for(var i=0;i<lis.length;i++)!function(temp){addEvent(lis[i],"click",function(){num=temp,cleanClass(),setActive(num),clearInterval(_intervalId)}),addEvent(lis[i],"mouseleave",function(){num=temp,clearInterval(_intervalId),_intervalId=setInterval(loopSet,5e3)})}(i)}function up_accordion(){var i,h4Node,acc=document.getElementById("js_accordion"),h4El=acc.getElementsByTagName("h4"),size=h4El.length;for(window._IE=function(){for(var v=3,div=document.createElement("div"),all=div.getElementsByTagName("i");div.innerHTML="<!--[if gt IE "+ ++v+"]><i></i><![endif]-->",all[0];);return v>4?v:!1}(),i=0;size>i;i++)h4Node=h4El[i],h4Node.setAttribute("class","toggle"),1==!!h4Node.nextElementSibling?h4Node.nextElementSibling.setAttribute("class","closed"):h4Node.nextSibling.setAttribute("class","closed"),h4Node.onclick=function(){var h4=this;"toggle"==h4.getAttribute("class")?(h4.setAttribute("class","toggle-active"),1==!!h4.nextElementSibling?h4.nextElementSibling.setAttribute("class",""):h4.nextSibling.setAttribute("class","")):(h4.setAttribute("class","toggle"),1==!!h4.nextElementSibling?h4.nextElementSibling.setAttribute("class","closed"):h4.nextSibling.setAttribute("class","closed"))}}function up_img_preload(){for(var _avatarPath="images/index/avatar/",_avatar=["fengdahui_100.png","fengdahui_100_hover.png","fengdahui_140.png","huangquanneng_100.png","huangquanneng_100_hover.png","huangquanneng_140.png","lishengsheng_100.png","lishengsheng_100_hover.png","lishengsheng_140.png","liyuqin_100.png","liyuqin_100_hover.png","liyuqin_140.png","qiuruihen_100.png","qiuruihen_100_hover.png","qiuruihen_140.png"],i=_avatar.length-1;i>=0;i--){var img=new Image;img.src=_avatarPath+_avatar[i]}}var up_banner=function(){function id(name){return document.getElementById(name)}function each(arr,callback,thisp){if(arr.forEach)arr.forEach(callback,thisp);else for(var i=0,len=arr.length;len>i;i++)callback.call(thisp,arr[i],i,arr)}function fadeIn(elem){setOpacity(elem,0);for(var i=0;20>i;i++)!function(){var pos=5*i;setTimeout(function(){setOpacity(elem,pos)},25*i)}(i)}function fadeOut(elem){for(var i=0;20>=i;i++)!function(){var pos=100-5*i;setTimeout(function(){setOpacity(elem,pos)},25*i)}(i)}function setOpacity(elem,level){elem.style.display=0==level?"none":"inline-block",elem.filters?elem.style.filter="alpha(opacity="+level+")":elem.style.opacity=level/100}return{scroll:function(count,wrapId,ulId){var self=this,targetIdx=0,curIndex=0,frag=document.createDocumentFragment();this.num=[];for(var i=0;count>i;i++)this.num[i]=frag.appendChild(document.createElement("li"));id(ulId).appendChild(frag),this.img=id(wrapId).getElementsByTagName("li"),this.num[0].className="on",each(this.img,function(elem,idx){0!=idx&&setOpacity(elem,0)}),each(this.num,function(elem,idx){elem.onclick=function(){self.fade(idx,curIndex),curIndex=idx,targetIdx=idx}});var itv=setInterval(function(){targetIdx<self.num.length-1?targetIdx++:targetIdx=0,self.fade(targetIdx,curIndex),curIndex=targetIdx},5e3);id(ulId).onmouseover=function(){clearInterval(itv)},id(wrapId).onmouseover=function(){clearInterval(itv)},id(wrapId).onmouseout=function(){clearInterval(itv),itv=setInterval(function(){targetIdx<self.num.length-1?targetIdx++:targetIdx=0,self.fade(targetIdx,curIndex),curIndex=targetIdx},5e3)}},fade:function(idx,lastIdx){if(idx!=lastIdx){var self=this;fadeOut(self.img[lastIdx]),fadeIn(self.img[idx]),each(self.num,function(elem,elemidx){elemidx!=idx?self.num[elemidx].className="":(id("spots").style.background="",self.num[elemidx].className="on")})}}}}();window.onload=function(){var Days=7,exp=new Date;exp.setTime(exp.getTime()+24*Days*60*60*1e3);var query={};if(window.location.search.length>1)for(var keys,keyID=0,search=window.location.search.substr(1).split("&");keyID<search.length;keyID++)keys=search[keyID].split("="),query[decodeURIComponent(keys[0])]=keys.length>1?decodeURIComponent(keys[1]):"";query.md&&(document.cookie="md="+escape(query.md)+";expires="+exp.toGMTString()+";domain=.upyun.com;path=/"),document.referrer&&(document.cookie="rf="+escape(document.referrer)+";expires="+exp.toGMTString()+";domain=.upyun.com;path=/");var _path=window.location.pathname;(_path.indexOf("index")>0||"/"==_path)&&(up_loop(),up_banner.scroll(3,"banner","spots")),(_path.indexOf("faq")>0||_path.indexOf("cdn")>0)&&up_accordion(),up_img_preload()};